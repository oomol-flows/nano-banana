title: "%url-images-nano-banana-edit%"
description: "%edit-images-from-urls-using-nano-banana-ai-with-llm-enhanced-pro%"
nodes:
  - node_id: nano-banana-edit#1
    task: self::nano-banana-edit
    inputs_from:
      - handle: image_urls
        value:
          []
        from_flow:
          - input_handle: image_urls
        from_node:
          []
      - handle: prompt
        from_flow:
          - input_handle: prompt
        from_node:
          []

  - node_id: nano-banana-get-result#1
    task: self::nano-banana-get-result
    inputs_from:
      - handle: session_id
        from_node:
          - node_id: nano-banana-edit#1
            output_handle: session_id
      - handle: poll_interval
        value:
        from_flow:
          - input_handle: poll_interval
      - handle: max_attempts
        value:
        from_flow:
          - input_handle: max_attempts
  - node_id: map#1
    title: "映射 #1"
    inputs_from:
      - handle: array
        from_node:
          - node_id: nano-banana-get-result#1
            output_handle: images
    subflow: array::map
    slots:
      - slot_node_id: +slot#2
        slotflow: self::+slotflow#2
inputs_def:
  - handle: image_urls
    description: "%array-of-image-urls-to-edit%"
    json_schema:
      type: array
      items:
        type: string
        format: uri
    nullable: false
    executor_name: python
  - handle: prompt
    description: "%natural-language-editing-instructions-enhanced-by-llm%"
    json_schema:
      type: string
      ui:widget: text
    nullable: false
    executor_name: python
  - group: Optional
    collapsed: true
  - handle: poll_interval
    description: "%seconds-between-polling-attempts3%"
    json_schema:
      type: integer
    value:
    nullable: true
    executor_name: python
  - handle: max_attempts
    description: "%maximum-polling-attempts-before-timeout3%"
    json_schema:
      type: integer
    value:
    nullable: true
    executor_name: python
outputs_def:
  - handle: images
    description: "%array-of-urls-to-edited-images%"
    json_schema:
      type: array
      items:
        type: string
        ui:widget: file
    nullable: false
    executor_name: python
outputs_from:
  - handle: images
    from_node:
      - node_id: map#1
        output_handle: array
